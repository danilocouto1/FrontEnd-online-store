{"ast":null,"code":"var _jsxFileName = \"/home/user/Projects/trybe/sd-06-project-frontend-online-store/src/components/AddCartButton.jsx\";\nimport React from 'react';\n\nclass AddCartButton extends React.Component {\n  constructor() {\n    super();\n    this.localStorageSave = this.localStorageSave.bind(this);\n  }\n\n  getLocalStorageProduct() {\n    return JSON.parse(localStorage.getItem('cart'));\n  }\n\n  countLocalStorage(cartLocalStorage, id) {\n    const newLocalStorage = cartLocalStorage.map(item => {\n      if (item.id === id) item.qtd += 1;\n      return item;\n    });\n    return newLocalStorage;\n  }\n\n  localStorageSave() {\n    const {\n      data\n    } = this.props;\n    data.qtd = 1;\n    const cartLocalStorage = this.getLocalStorageProduct();\n    let newLocalStorage;\n\n    if (cartLocalStorage) {\n      cartLocalStorage.some(item => item.id === data.id) ? newLocalStorage = this.countLocalStorage(cartLocalStorage, data.id) : newLocalStorage = [...cartLocalStorage, data];\n    } else {\n      newLocalStorage = [data];\n    }\n\n    const stringData = JSON.stringify(newLocalStorage);\n    localStorage.setItem('cart', stringData);\n    console.log('Produto adicionado ao carrinho com sucesso!');\n  }\n\n  localStorageRemove() {\n    console.log('Remove item');\n  }\n\n  btHome() {\n    const {\n      bt\n    } = this.props;\n    let testid;\n    if (bt === 'home') testid = 'product-add-to-cart';\n    if (bt === 'productDetails') testid = 'product-detail-add-to-cart';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": testid,\n      type: \"button\",\n      onClick: this.localStorageSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, \"Adicionar ao Carrinho de Compras\"));\n  }\n\n  addItem(event) {\n    console.log(event.target.previousSibling);\n  }\n\n  removeItem() {}\n\n  deleteItem() {}\n\n  btRemove() {\n    const {\n      data\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"cart-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, \"Quantidade:\", /*#__PURE__*/React.createElement(\"div\", {\n      \"data-testid\": \"shopping-cart-product-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, data.qtd)), /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": \"product-add-to-cart\",\n      type: \"button\",\n      onClick: this.addItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": \"product-add-to-cart\",\n      type: \"button\",\n      onClick: this.removeItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"button\", {\n      \"data-testid\": \"product-add-to-cart\",\n      type: \"button\",\n      onClick: this.deleteItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"Remover\"));\n  }\n\n  render() {\n    const {\n      bt\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, bt === 'cart' ? this.btRemove() : this.btHome());\n  }\n\n}\n\nexport default AddCartButton;","map":{"version":3,"sources":["/home/user/Projects/trybe/sd-06-project-frontend-online-store/src/components/AddCartButton.jsx"],"names":["React","AddCartButton","Component","constructor","localStorageSave","bind","getLocalStorageProduct","JSON","parse","localStorage","getItem","countLocalStorage","cartLocalStorage","id","newLocalStorage","map","item","qtd","data","props","some","stringData","stringify","setItem","console","log","localStorageRemove","btHome","bt","testid","addItem","event","target","previousSibling","removeItem","deleteItem","btRemove","render"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass AddCartButton extends React.Component {\n  constructor() {\n    super();\n    this.localStorageSave = this.localStorageSave.bind(this);\n  }\n\n  getLocalStorageProduct() {\n    return JSON.parse(localStorage.getItem('cart'));\n  }\n\n  countLocalStorage(cartLocalStorage, id) {\n    const newLocalStorage = cartLocalStorage.map((item) => {\n      if (item.id === id) item.qtd += 1;\n      return item;\n    });\n    return newLocalStorage;\n  }\n\n  localStorageSave() {\n    const { data } = this.props;\n    data.qtd = 1;\n    const cartLocalStorage = this.getLocalStorageProduct();\n    let newLocalStorage;\n    if (cartLocalStorage) {\n      (cartLocalStorage.some((item) => item.id === data.id))\n        ? newLocalStorage = this.countLocalStorage(cartLocalStorage, data.id)\n        : newLocalStorage = [...cartLocalStorage, data];\n    } else {\n      newLocalStorage = [data];\n    }\n    const stringData = JSON.stringify(newLocalStorage);\n    localStorage.setItem('cart', stringData);\n    console.log('Produto adicionado ao carrinho com sucesso!');\n  }\n\n  localStorageRemove() {\n    console.log('Remove item');\n  }\n\n  btHome() {\n    const { bt } = this.props;\n    let testid;\n    if (bt === 'home') testid = 'product-add-to-cart';\n    if (bt === 'productDetails') testid = 'product-detail-add-to-cart';\n\n    return (\n      <div id=\"cart-button\">\n        <button data-testid={ testid } type=\"button\" onClick={ this.localStorageSave }>\n          Adicionar ao Carrinho de Compras\n        </button>\n      </div>\n    );\n  }\n  addItem(event) {\n    console.log(event.target.previousSibling)\n  }\n\n  removeItem() {\n    \n  } \n  \n  deleteItem() {\n\n  }\n\n  btRemove() {\n    const { data } = this.props;\n    return (\n      <div id=\"cart-button\">\n\n        <div>\n          Quantidade:\n          <div data-testid=\"shopping-cart-product-quantity\"> \n            {data.qtd}\n          </div>\n         \n        </div>\n        <button data-testid=\"product-add-to-cart\" type=\"button\" onClick={ this.addItem }>\n          +\n        </button>\n        <button data-testid=\"product-add-to-cart\" type=\"button\" onClick={ this.removeItem }>\n          -\n        </button>\n        <button data-testid=\"product-add-to-cart\" type=\"button\" onClick={ this.deleteItem }>\n          Remover\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    const { bt } = this.props;\n    return (\n      <div>\n        {(bt === 'cart') ? this.btRemove() : this.btHome()}\n      </div>\n    );\n  }\n}\n\nexport default AddCartButton;\n"]},"metadata":{},"sourceType":"module"}