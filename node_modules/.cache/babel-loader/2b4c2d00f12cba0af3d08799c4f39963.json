{"ast":null,"code":"var _jsxFileName = \"/home/user/Projects/trybe/sd-06-project-frontend-online-store/src/pages/Home.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Categories from '../components/Categories';\nimport Products from '../components/Products';\nimport * as api from '../services/api';\n\nclass Home extends Component {\n  constructor() {\n    super();\n    this.onClick = this.onClick.bind(this);\n    this.fetchProducts = this.fetchProducts.bind(this);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.state = {\n      textInput: \"\",\n      data: null,\n      checkedId: \"\"\n    };\n  }\n\n  handleEvent({\n    target\n  }) {\n    const query = target.value;\n    this.setState({\n      textInput: query\n    });\n  }\n\n  onClick() {\n    const query = this.state.textInput;\n    this.fetchProducts({\n      query\n    });\n  }\n\n  onChecked() {\n    const categoryId = this.state.checkedId;\n    this.fetchProducts({\n      categoryId\n    });\n  }\n\n  async fetchProducts({\n    categoryId,\n    query\n  }) {\n    const fetchData = await api.getProductsFromCategoryAndQuery({\n      categoryId,\n      query\n    });\n    this.setState({\n      data: fetchData\n    });\n  }\n\n  render() {\n    const {\n      data,\n      textInput\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      inputValue: textInput,\n      handleEvent: this.handleEvent,\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Categories, {\n      inputIdValue: checkedId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Products, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/user/Projects/trybe/sd-06-project-frontend-online-store/src/pages/Home.jsx"],"names":["React","Component","Header","Categories","Products","api","Home","constructor","onClick","bind","fetchProducts","handleEvent","state","textInput","data","checkedId","target","query","value","setState","onChecked","categoryId","fetchData","getProductsFromCategoryAndQuery","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,iBAArB;;AAEA,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAC3BM,EAAAA,WAAW,GAAG;AACZ;AAEA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AAEA,SAAKG,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXC,MAAAA,IAAI,EAAE,IAFK;AAGXC,MAAAA,SAAS,EAAE;AAHA,KAAb;AAKD;;AAEDJ,EAAAA,WAAW,CAAC;AAAEK,IAAAA;AAAF,GAAD,EAAa;AACtB,UAAMC,KAAK,GAAGD,MAAM,CAACE,KAArB;AACA,SAAKC,QAAL,CAAc;AAAEN,MAAAA,SAAS,EAAEI;AAAb,KAAd;AACD;;AAEDT,EAAAA,OAAO,GAAG;AACR,UAAMS,KAAK,GAAG,KAAKL,KAAL,CAAWC,SAAzB;AACA,SAAKH,aAAL,CAAmB;AAAEO,MAAAA;AAAF,KAAnB;AACD;;AAEDG,EAAAA,SAAS,GAAG;AACV,UAAMC,UAAU,GAAG,KAAKT,KAAL,CAAWG,SAA9B;AACA,SAAKL,aAAL,CAAmB;AAAEW,MAAAA;AAAF,KAAnB;AACD;;AAED,QAAMX,aAAN,CAAoB;AAAEW,IAAAA,UAAF;AAAcJ,IAAAA;AAAd,GAApB,EAA2C;AACzC,UAAMK,SAAS,GAAG,MAAMjB,GAAG,CAACkB,+BAAJ,CAAoC;AAAEF,MAAAA,UAAF;AAAcJ,MAAAA;AAAd,KAApC,CAAxB;AACA,SAAKE,QAAL,CAAc;AAAEL,MAAAA,IAAI,EAAEQ;AAAR,KAAd;AACD;;AAEDE,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEV,MAAAA,IAAF;AAAQD,MAAAA;AAAR,QAAsB,KAAKD,KAAjC;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,UAAU,EAAEC,SADd;AAEE,MAAA,WAAW,EAAE,KAAKF,WAFpB;AAGE,MAAA,OAAO,EAAE,KAAKH,OAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,YAAY,EAAEO,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAED,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAPF,CADF;AAcD;;AAnD0B;;AAsD7B,eAAeR,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Categories from '../components/Categories'\nimport Products from '../components/Products';\nimport * as api from '../services/api';\n\nclass Home extends Component {\n  constructor() {\n    super();\n\n    this.onClick = this.onClick.bind(this);\n    this.fetchProducts = this.fetchProducts.bind(this);\n    this.handleEvent = this.handleEvent.bind(this);\n\n    this.state = {\n      textInput: \"\", \n      data: null,\n      checkedId: \"\",\n    };\n  }\n\n  handleEvent({ target }) {\n    const query = target.value;\n    this.setState({ textInput: query });\n  }\n\n  onClick() {\n    const query = this.state.textInput;\n    this.fetchProducts({ query });\n  }\n\n  onChecked() {\n    const categoryId = this.state.checkedId;\n    this.fetchProducts({ categoryId });\n  }\n\n  async fetchProducts({ categoryId, query }) {\n    const fetchData = await api.getProductsFromCategoryAndQuery({ categoryId, query });\n    this.setState({ data: fetchData });\n  }\n\n  render() {\n    const { data, textInput } = this.state;\n    return (\n      <div>\n        <Header\n          inputValue={textInput}\n          handleEvent={this.handleEvent} \n          onClick={this.onClick}\n        />\n        {/* {(data) ? console.log(data) : null} */}\n        <div className=\"content\">\n          <Categories inputIdValue={checkedId} />\n          <Products data={data}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}